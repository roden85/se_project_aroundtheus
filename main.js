(()=>{"use strict";var e=document.querySelector("#modal-profile-form"),t=(document.querySelector(".profile__name"),document.querySelector(".profile__bio"),document.querySelector("#profile-name")),n=document.querySelector("#profile-bio"),r=document.querySelector("#modal-photo-form"),o=(document.querySelector(".cards__list"),document.querySelector(".profile__button-edit")),i=document.querySelector("#add-button"),l={formSelector:".modal__form",inputSelector:".modal__form-input",submitButtonSelector:".modal__form-submit",inactiveButtonClass:"modal__form-submit_disabled",inputErrorClass:"modal_form_type_error",errorClass:"modal__error_visible"};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputEls.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}},{key:"_setEventListeners",value:function(){var e,t=this;this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputEls=function(e){if(Array.isArray(e))return a(e)}(e=this._form.querySelectorAll(this._inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._inputEls.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputEls.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"_handleLikeButton",(function(){o._likeButton.classList.toggle("cards__like-button_active")})),f(this,"_handleDeleteCard",(function(){o._element.remove()})),this._name=t.title,this._link=t.link,this._cardSelector=n,this._likeButton=null,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".cards__list-item").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton=this._element.querySelector(".cards__like-button"),this._trashButton=this._element.querySelector(".cards__trash-button"),this._listImg=this._element.querySelector(".cards__list-image"),this._likeButton.addEventListener("click",(function(){e._handleLikeButton()})),this._trashButton.addEventListener("click",(function(){e._handleDeleteCard()})),this._listImg.addEventListener("click",(function(){e._handleCardClick({link:e._link,name:e._name})}))}},{key:"getView",value:function(){return this._element=this._getTemplate(),this._imgCaption=this._element.querySelector(".cards__list-content-title"),this._listImg=this._element.querySelector(".cards__list-image"),this._imgCaption.textContent=this._name,this._listImg.src=this._link,this._listImg.alt="Photo of ".concat(this._name),this._setEventListeners(),this._element}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const d=p;function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const y=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._element=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._element.prepend(e)}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"_handleOutsideClick",(function(e){e.target===e.currentTarget&&n.close()})),_(this,"_handleCloseByEsc",(function(e){"Escape"===e.key&&n.close()})),this._popupElement=document.querySelector(t),this._handleCloseByEsc=this._handleCloseByEsc.bind(this),this._handleOutsideClick=this._handleOutsideClick.bind(this)}var t,n;return t=e,(n=[{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){t.target.classList.contains("modal__close-button")&&e.close()}))}},{key:"close",value:function(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleCloseByEsc),this._popupElement.removeEventListener("mousedown",this._handleOutsideClick)}},{key:"open",value:function(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleCloseByEsc),this._popupElement.addEventListener("mousedown",this._handleOutsideClick)}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function k(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e))._imageEl=t._popupElement.querySelector(".modal__preview-image"),t._imageCaption=t._popupElement.querySelector(".modal__caption"),t}return t=l,(n=[{key:"open",value:function(e){var t=e.title,n=e.link;this._imageCaption.textContent=t,this._imageEl.src=n,this._imageEl.alt="Photo of ".concat(t),w(O(l.prototype),"open",this).call(this)}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(b);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function q(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function l(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,n))._popupForm=t._popupElement.querySelector(".modal__form"),t._handleFormSubmit=r,t._inputList=t._popupForm.querySelectorAll(".modal__form-input"),t}return t=l,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){return e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;B(x(l.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){this._popupForm.reset(),B(x(l.prototype),"close",this).call(this)}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(b);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){var n=t.nameSelector,r=t.bioSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userBio=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,description:this._userBio.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.description;this._userName.textContent=t,this._userBio.textContent=n}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),A=function(e){return new d(e,"#cards-template",(function(){N(e)})).getView()},F=new y({items:[{title:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{title:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{title:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{title:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{title:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{title:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderer:function(e){F.addItem(A(e))}},".cards__list"),D=new C("#modal__preview"),N=function(e){D.open(e)};i.addEventListener("click",(function(){z.resetValidation(),U.open()}));var U=new R({popupSelector:"#add-popup",handleFormSubmit:function(e){F.addItem(A(e)),U.close()}}),M=new V({nameSelector:".profile__name",bioSelector:".profile__bio"}),Y=new R({popupSelector:"#edit-popup",handleFormSubmit:function(e){var t=e.name,n=e.description;M.setUserInfo({name:t,description:n}),Y.close()}});o.addEventListener("click",(function(){var e;e=M.getUserInfo(),t.value=e.name,n.value=e.description,Y.open(),$.resetValidation()}));var $=new s(l,e),z=new s(l,r);$.enableValidation(),z.enableValidation(),F.renderItems(),D.setEventListeners(),Y.setEventListeners(),U.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVcsSUFBSXpCLEVBQWMsQ0FDakNkLGNBQWUsY0FDZmUsaUJBQWtCLFlBQTJCLElBQXhCN0IsRUFBd0IsRUFBeEJBLEtBQU0wQyxFQUFrQixFQUFsQkEsWUFDekJVLEVBQUtFLFlBQVksQ0FBRXRELEtBQUFBLEVBQU0wQyxZQUFBQSxJQUN6QlcsRUFBU3BDLE9BQ1YsSUFTSG5GLEVBQWtCd0MsaUJBQWlCLFNBQVMsV0FOcEIsSUFDaEJpRixJQUFjSCxFQUFLSSxjQUN6QjdILEVBQWdCdUcsTUFBUXFCLEVBQVl2RCxLQUNwQ3BFLEVBQXVCc0csTUFBUXFCLEVBQVliLFlBSzNDVyxFQUFTTCxPQUNUUyxFQUFrQlAsaUJBQ25CLElBRUQsSUFBTU8sRUFBb0IsSUFBSWxILEVBQzVCUCxFQUNBUixHQUdJeUgsRUFBbUIsSUFBSTFHLEVBQWNQLEVBQW9CSCxHQUUvRDRILEVBQWtCQyxtQkFDbEJULEVBQWlCUyxtQkFDakJiLEVBQVljLGNBQ1paLEVBQVlhLG9CQUNaUCxFQUFTTyxvQkFDVFQsRUFBYVMsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL3BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLXByb2ZpbGUtZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQgPVxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYmlvXCIpO1xyXG5leHBvcnQgY29uc3QgZm9ybU5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtRGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWJpb1wiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRBZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1waG90by1mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYnV0dG9uLWVkaXRcIlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1idXR0b25cIik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIHRpdGxlOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgY2FyZHNMaXN0OiBcIi5jYXJkc19fbGlzdFwiLFxyXG4gIGNhcmRzVGVtcGxhdGU6IFwiI2NhcmRzLXRlbXBsYXRlXCIsXHJcbiAgcHJldmlld01vZGFsOiBcIiNtb2RhbF9fcHJldmlld1wiLFxyXG4gIGNhcmRBZGRGb3JtOiBcIiNtb2RhbC1waG90by1mb3JtXCIsXHJcbiAgY2FyZEFkZEJ1dHRvbjogXCIjYWRkLWJ1dHRvblwiLFxyXG4gIHByb2ZpbGVOYW1lRWxlbWVudDogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQ6IFwiLnByb2ZpbGVfX2Jpb1wiLFxyXG4gIHByb2ZpbGVGb3JtQ29udGFpbmVyOiBcIiNlZGl0LXBvcHVwXCIsXHJcbiAgZm9ybU5hbWVFbGVtZW50OiBcIiNwcm9maWxlLW5hbWVcIixcclxuICBmb3JtRGVzY3JpcHRpb25FbGVtZW50OiBcIiNwcm9maWxlLWJpb1wiLFxyXG4gIHByb2ZpbGVFZGl0Rm9ybTogXCIjbW9kYWwtcHJvZmlsZS1mb3JtXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybS1pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybS1zdWJtaXRcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19mb3JtLXN1Ym1pdF9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9mb3JtX3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWwpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcblxyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbDtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsLCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsLCBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dEVscy5zb21lKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLnRpdGxlO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuXHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gbnVsbDtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdC1pdGVtXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fdHJhc2hCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX3RyYXNoLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2xpc3RJbWcgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3QtaW1hZ2VcIik7XHJcblxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl90cmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9saXN0SW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlQnV0dG9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZHNfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9O1xyXG5cclxuICBfaGFuZGxlRGVsZXRlQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2ltZ0NhcHRpb24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmNhcmRzX19saXN0LWNvbnRlbnQtdGl0bGVcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2xpc3RJbWcgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3QtaW1hZ2VcIik7XHJcbiAgICB0aGlzLl9pbWdDYXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2xpc3RJbWcuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2xpc3RJbWcuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fbmFtZX1gO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcclxuIiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2xhc3NTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjbGFzc1NlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUNsb3NlQnlFc2MgPSB0aGlzLl9oYW5kbGVDbG9zZUJ5RXNjLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2sgPSB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2suYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVPdXRzaWRlQ2xpY2sgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYW5kbGVDbG9zZUJ5RXNjID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idXR0b25cIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUNsb3NlQnlFc2MpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwibW91c2Vkb3duXCIsXHJcbiAgICAgIHRoaXMuX2hhbmRsZU91dHNpZGVDbGlja1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUNsb3NlQnlFc2MpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlRWwgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJldmlldy1pbWFnZVwiKTtcclxuICAgIHRoaXMuX2ltYWdlQ2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IHRpdGxlLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX2ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG4gICAgdGhpcy5faW1hZ2VFbC5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2VFbC5hbHQgPSBgUGhvdG8gb2YgJHt0aXRsZX1gO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19mb3JtLWlucHV0XCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXREYXRhID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IChpbnB1dERhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSkpO1xyXG4gICAgcmV0dXJuIGlucHV0RGF0YTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGJpb1NlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYmlvU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3VzZXJCaW8udGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBkZXNjcmlwdGlvbiB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl91c2VyQmlvLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGluaXRpYWxDYXJkcyxcclxuICBzZWxlY3RvcnMsXHJcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIGNhcmRBZGRCdXR0b24sXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIGNhcmRBZGRGb3JtLFxyXG4gIGZvcm1OYW1lRWxlbWVudCxcclxuICBmb3JtRGVzY3JpcHRpb25FbGVtZW50LFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL3BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL3BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcblxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIjY2FyZHMtdGVtcGxhdGVcIiwgKCkgPT4ge1xyXG4gICAgaGFuZGxlQ2FyZENsaWNrKGRhdGEpO1xyXG4gIH0pO1xyXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufTtcclxuXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIHNlbGVjdG9ycy5jYXJkc0xpc3RcclxuKTtcclxuXHJcbi8vIHZpZXcgaW1hZ2VcclxuY29uc3QgY2FyZFByZXZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoc2VsZWN0b3JzLnByZXZpZXdNb2RhbCk7XHJcblxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoZGF0YSkgPT4ge1xyXG4gIGNhcmRQcmV2aWV3Lm9wZW4oZGF0YSk7XHJcbn07XHJcblxyXG4vL29wZW4gbmV3IHBvc3QgZm9ybVxyXG5jYXJkQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBhZGRJbWFnZUZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcbi8vYWRkIGEgbmV3IHBvc3RcclxuY29uc3QgYWRkSW1hZ2VGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2FkZC1wb3B1cFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xyXG4gICAgYWRkSW1hZ2VGb3JtLmNsb3NlKCk7XHJcbiAgfSxcclxufSk7XHJcblxyXG4vL2dldCB1c2VyIGluZm9cclxuXHJcbmNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGJpb1NlbGVjdG9yOiBcIi5wcm9maWxlX19iaW9cIixcclxufSk7XHJcblxyXG5jb25zdCBlZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNlZGl0LXBvcHVwXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHsgbmFtZSwgZGVzY3JpcHRpb24gfSkgPT4ge1xyXG4gICAgdXNlci5zZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pO1xyXG4gICAgZWRpdEZvcm0uY2xvc2UoKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGZpbGxQcm9maWxlRm9ybSA9ICgpID0+IHtcclxuICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXIuZ2V0VXNlckluZm8oKTtcclxuICBmb3JtTmFtZUVsZW1lbnQudmFsdWUgPSBjdXJyZW50VXNlci5uYW1lO1xyXG4gIGZvcm1EZXNjcmlwdGlvbkVsZW1lbnQudmFsdWUgPSBjdXJyZW50VXNlci5kZXNjcmlwdGlvbjtcclxufTtcclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZmlsbFByb2ZpbGVGb3JtKCk7XHJcbiAgZWRpdEZvcm0ub3BlbigpO1xyXG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIHByb2ZpbGVFZGl0Rm9ybVxyXG4pO1xyXG5cclxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgY2FyZEFkZEZvcm0pO1xyXG5cclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuY2FyZFByZXZpZXcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYWRkSW1hZ2VGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiJdLCJuYW1lcyI6WyJwcm9maWxlRWRpdEZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtTmFtZUVsZW1lbnQiLCJmb3JtRGVzY3JpcHRpb25FbGVtZW50IiwiY2FyZEFkZEZvcm0iLCJwcm9maWxlRWRpdEJ1dHRvbiIsImNhcmRBZGRCdXR0b24iLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbCIsInRoaXMiLCJfZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZSIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9pbnB1dEVscyIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIl9saWtlQnV0dG9uIiwidG9nZ2xlIiwiX2VsZW1lbnQiLCJfbmFtZSIsInRpdGxlIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RyYXNoQnV0dG9uIiwiX2xpc3RJbWciLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVDYXJkIiwibmFtZSIsIl9nZXRUZW1wbGF0ZSIsIl9pbWdDYXB0aW9uIiwic3JjIiwiYWx0IiwiU2VjdGlvbiIsImNsYXNzU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiaXRlbSIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY2xvc2UiLCJrZXkiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUNsb3NlQnlFc2MiLCJiaW5kIiwiX2hhbmRsZU91dHNpZGVDbGljayIsImNvbnRhaW5zIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlRWwiLCJfaW1hZ2VDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRMaXN0IiwiaW5wdXREYXRhIiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYmlvU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckJpbyIsImRlc2NyaXB0aW9uIiwiY3JlYXRlQ2FyZCIsImdldFZpZXciLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJjYXJkUHJldmlldyIsIm9wZW4iLCJhZGRGb3JtVmFsaWRhdG9yIiwicmVzZXRWYWxpZGF0aW9uIiwiYWRkSW1hZ2VGb3JtIiwidXNlciIsImVkaXRGb3JtIiwic2V0VXNlckluZm8iLCJjdXJyZW50VXNlciIsImdldFVzZXJJbmZvIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyJdLCJzb3VyY2VSb290IjoiIn0=